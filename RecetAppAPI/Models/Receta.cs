using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

namespace RecetAppAPI.Models
{
    public class Receta
    {
        public Receta()
        {
            RecetaPasos = new List<Paso>();
            RecetaIngredientes = new List<RecetaIngrediente>();
            RecetaEtiquetas = new List<RecetaEtiqueta>();
            RecetaComentarios = new List<Comentario>();
        }

        public Receta(string titulo, string descripcion, int tiempo, string dificultad)
            : this()
        {
            RecetaTitulo = titulo;
            RecetaDescripcion = descripcion;
            RecetaTiempoPreparacion = tiempo;
            RecetaDificultad = dificultad;
            RecetaLikes = 0;
        }


        [Key]
        public int RecetaId { get; set; }
        [Required]
        public string RecetaTitulo { get; set; }
        [Required]
        public string RecetaDescripcion { get; set; }
        [Required]
        public int RecetaTiempoPreparacion { get; set; }
        [Required]
        public string RecetaDificultad { get; set; }
        public int RecetaLikes { get; set; } = 0;
        // FK hacia usuario
        [ForeignKey("Usuario")]
        public int UsuarioId { get; set; }
        public Usuario Usuario { get; set; }

        //Relaciones
        public List<Paso> RecetaPasos { get; set; } = new();
        public List<RecetaIngrediente> RecetaIngredientes { get; set; }
        public List<RecetaEtiqueta> RecetaEtiquetas { get; set; }
        public List<Comentario> RecetaComentarios { get; set; }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
    }
}
